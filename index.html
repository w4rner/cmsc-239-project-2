<!doctype html>
<html>
  <head>
    <title>EXPLAINABLE</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link href="main.css"  type="text/css" rel="stylesheet" />

    <link rel="stylesheet" href="https://unpkg.com/react-vis/dist/style.css">

  </head>
  <body class="container">
    <h1 class="header">Sound Waves with the Discrete Fourier Transform</h1>
    <h2 class="subtitle">
      <a href="https://github.com/CrimsonRobot">CrimsonRobot</a>
      <a href="https://github.com/w4rner">w4rner</a>
      <a href="https://github.com/pmj714">pmj714</a>
    </h2>
    <div id="app" class="flex center"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://d3js.org/d3.v4.js"></script>
    <script src="index.js"></script>
    <p class="container" id="text1">
        Sound can be thought of as oscillations in air density over time. Such oscillations can be described by waves which have the following two parameters: 1). Frequency: the number of oscillations
      occurring in one second. 2). Amplitude: the height of the wave. In music, different notes correspond to different frequencies, and loudness corresponds to
      amplitude. Explore the effect of changing these two parameters on this wave!
    </p>
    <div class="container">
      <svg class="main-animation">
        <path d="" id="first1"></path>
      </svg>
      <label>Frequency<input type="range" min="0" max="0.2" value="0.1" step="0.001" id="Fslider1" /></label>
      <label>Amplitude<input type="range" min="0" max="80" value="20" step="1" id="Aslider1" /></label>
    </div>
    <p class="container" id="text2">
      When two waves intersect in space, their values add linearly. Create two waves traveling towards each other and watch them combine when they meet!
    </p>
    <div class="container">
      <svg class="main-animation">
        <path d="" id="first2"></path>
      </svg><br />
      <label><input type="range" min="0" max="80" value="20" step="1" id="Aslider12" />Left Wave Amplitude</label>
      <label><input type="range" min="0" max="1" value="0.1" step="0.01" id="Fslider12" />Left Wave Frequency</label>
      <label><input type="range" min="0" max="80" value="20" step="1" id="Aslider22" />Right Wave Amplitude</label>
      <label><input type="range" min="0" max="1" value="0.1" step="0.01" id="Fslider22" />Right Wave Frequency</label>
    </div>
    <p class="container" id="text3">
      Let's consider a chord in music. It is the addition of many notes, and therefore many sounds. Build your own musical chord by selecting combinations of the following 6 waves!
    </p>
    <div class="container">
      <svg viewBox="5 5 600 200">
        <path d="" id="final3"></path>
      </svg>
      <div flex-direction="row">
      <label vertical-align="middle">
        <input class="checkbox-wave" type="checkbox" id="Check1">
        <svg viewBox="10 10 300 100" class="sub-animation"><path d="" id="first3"></path></svg>
      </label>
      <label vertical-align="middle">
        <input class="checkbox-wave" type="checkbox" id="Check2">
        <svg viewBox="10 10 300 100" class="sub-animation">
          <path d="" id="second3"></path>
        </svg>
      </label>
      <label vertical-align="middle">
        <input class="checkbox-wave" type="checkbox" id="Check3">
        <svg viewBox="10 10 300 100" class="sub-animation">
          <path d="" id="third3"></path>
        </svg>
      </label>
      <label>
        <input class="checkbox-wave" type="checkbox" id="Check4">
        <svg viewBox="10 10 300 100" class="sub-animation">
          <path d="" id = 'fourth3'></path>
        </svg class="sub-animation">
      </label>
      <label vertical-align="middle">
        <input class="checkbox-wave" type="checkbox" id="Check5">
        <svg viewBox="10 10 300 100" class="sub-animation">
          <path d="" id = 'fifth3'></path>
        </svg>
      </label>
      <label vertical-align="middle">
        <input class="checkbox-wave" type="checkbox" id="Check6">
        <svg viewBox="10 10 300 100" class="sub-animation">
          <path d="" id='sixth3'></path>
        </svg>
      </label>
    </div>
    <p class="container">
      What if it was the other way around: and you were given the combined wave and asked to back out the frequencies of the individual waves. This could be really useful for a music producer. For example, perhaps you want to boost the amplitude of the lowest frequency waves (in this case, the 4th from the left has a frequency of 0.5Hz).
    </p>
    <p class="container">
      Fortunately, we've got math: specifically the Fourier Transform!
    </p>
      <img width="244" height="80" margin-left="auto" margin-right="auto" src="/img/Latex_Fourier_Transform.png" />
    <p>
      The transform is constructed by using Euler's formula and wave functions. To explore how a wave is related to the unit circle, move the point using the slider!
    </p>
    <div id=Fourth>
      <input type="range" min="0" max="100" value="0" step="0.01" id="FourthSlider" class="slider"> Position Slider</input>
      <svg viewBox="10 10 800 400" class="main-animation" id="fourthSVG"></svg>
    </div>
    <p>
      Euler's formula exhibits a similar periodicity when mapped over time,
    </p>
    <p>
      with the rate it travels around the circle given by f. We then have that, over a period of time, the product
      of the wave function mapped onto a circle and of Euler's formula is greatest when the two make the same
      number of rotations about the circle over a period of time, i.e. when they have the same frequency. It also
      happens that when the two are out of sync, their product is relatively small.
    </p>
    <p>
      Below we can see what happens when we sample a period of time and calculate the Fourier transform of the
      complicated sum of waves we had above.
    </p>
    <div id="fourier">
      <svg viewBox="10 10 800 400" width="950" height="660" id = "PreF">
        <path d="" id="PreFourier"></path>
      </svg>
    </div>
    <div class="center">
      <input type="button" id="FourierButton">Fourier Transform</input>
      <input type="range" min="20" max="100" value="20" step="1" id="FourierSlider">#N Samples</input>
    </div>
    <div class="container">
      <svg viewBox="10 10 800 400" class="main-animation" id="FourierSVG"></svg>
    </div>
    <p>
      For our sum of six waves, we have six distinct peaks! The axis of the transform is not directly in terms of frequency, but rather in terms of the period times the frequency, Tk. One simply needs to divide by our period of 200*pi to determine the frequency.
    </p>
  </body>
</html>
